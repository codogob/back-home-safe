(this["webpackJsonpback-home-safe"]=this["webpackJsonpback-home-safe"]||[]).push([[5],{100:function(e,n,t){"use strict";t.d(n,"b",(function(){return u})),t.d(n,"a",(function(){return l})),t.d(n,"c",(function(){return b}));var a=t(20),o=t(82),r=t(158),c=t(159),i=t(84),s=t(45),u=function(e){if(!e.startsWith("HKEN:"))return null;var n=e.substring(6,14),t=e.substring(14),o=JSON.parse(decodeURIComponent(escape(window.atob(t))));return Object(a.a)(Object(a.a)({},o),{},{venueId:n})},l=function(e,n){if(!e)return"";var t=Object(r.a)(Object(c.a)("","nameZh",e)),a=Object(r.a)(Object(c.a)("","nameEn",e)),o=Object(r.a)(Object(c.a)("","venueId",e)),u=Object(i.a)(t)?Object(i.a)(a)?o:a:t,l=Object(i.a)(a)?Object(i.a)(t)?o:t:a;return n===s.a.EN?l:u},d=function(e){var n="HKEN".concat(e,"2020");return Object(o.SHA256)(n).toString()},b=function(e){var n=e.typeEn,t=e.typeZh,a=e.nameEn,o=e.nameZh,r=e.type,c=e.venueCode,s=e.venueID,u={metadata:Object(i.a)(n)&&Object(i.a)(t)?null:{typeEn:n,typeZh:t},nameZh:o,nameEn:a,type:r,hash:d(s)},l=window.btoa(unescape(encodeURIComponent(JSON.stringify(u))));return"HKEN:".concat(c).concat(s).concat(l)}},107:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return l}));var a=t(6),o=t(38),r=t(28),c=t(42),i=Object(o.a)((function(){var e=Object(c.c)(),n=e.lockTravelRecord,t=e.unlocked,a=e.isEncrypted,o=e.encryptTravelRecord,i=e.unlockTravelRecord,s=Object(r.c)(),u=s.lockBookmarkLocation,l=s.unlocked,d=s.isEncrypted,b=s.encryptBookmarkLocation,f=s.unlockBookmarkLocation;return{lock:function(){n(),u()},unlocked:t&&l,isEncrypted:a||d,encrypt:function(e){b(e),o(e)},unlock:function(e){return i(e)&&f(e)}}})),s=Object(a.a)(i,2),u=s[0],l=s[1]},116:function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var a=t(6),o=t(82),r=t(0),c=t(98),i=t(443),s=t(444),u=function(e,n){return o.AES.encrypt(e,n).toString()},l=function(e){var n=e.key,t=e.defaultValue,l=Object(c.a)("incognito",!1),d=Object(a.a)(l,2),b=d[0],f=d[1],p=Object(r.useState)(t),m=Object(a.a)(p,1)[0],j=Object(r.useState)(null),O=Object(a.a)(j,2),g=O[0],h=O[1],v=Object(r.useState)(!1),x=Object(a.a)(v,2),_=x[0],k=x[1],y=Object(c.a)(n,g?u(JSON.stringify(m),g):JSON.stringify(m)),w=Object(a.a)(y,2),S=w[0],C=w[1],R=Object(r.useState)(m),T=Object(a.a)(R,2),A=T[0],E=T[1],L=Object(r.useMemo)((function(){try{if(!S)return!1;JSON.parse(S)}catch(e){return!0}return!1}),[S]);Object(i.a)((function(){L||(E(S?JSON.parse(S):m),k(!0))})),Object(s.a)((function(){if(_&&!b&&(!L||g)){var e=JSON.stringify(A);C(g?u(e,g):e)}}),[A]);var I=Object(r.useCallback)((function(e){if(!L){var n=u(S||JSON.stringify(m),e);C(n),h(e)}}),[S,C,m,L]),N=Object(r.useCallback)((function(e){if(!L)return!0;try{var n=function(e,n){return o.AES.decrypt(e,n).toString(o.enc.Utf8)}(S||JSON.stringify(m),e);return E(JSON.parse(n)),h(e),k(!0),!0}catch(t){return!1}}),[m,S,L]),H=Object(r.useCallback)((function(){L&&(k(!1),h(null),E(m))}),[L,m]);return{isEncrypted:L,unlockStore:N,lockStore:H,value:A,setValue:E,initPassword:I,unlocked:_,incognito:b,setIncognito:f,password:g}}},152:function(e,n,t){"use strict";n.a=t.p+"static/media/cross.d2bbc7f7.svg"},164:function(e,n,t){"use strict";t.d(n,"a",(function(){return p})),t.d(n,"b",(function(){return m}));var a=t(122),o=t.n(a),r=t(162),c=t(6),i=t(38),s=t(441),u=t(278),l=t(0),d=t(98),b=Object(i.a)((function(){var e=Object(l.useState)("mediaDevices"in navigator),n=Object(c.a)(e,1)[0],t=Object(d.a)("preferred_camera_id","AUTO"),a=Object(c.a)(t,2),i=a[0],b=a[1],f=Object(l.useState)(null),p=Object(c.a)(f,2),m=p[0],j=p[1],O=Object(l.useCallback)(Object(r.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n&&Object(s.a)("enumerateDevices",navigator.mediaDevices)){e.next=4;break}return j([]),e.abrupt("return");case 4:return e.next=6,navigator.mediaDevices.enumerateDevices();case 6:t=e.sent,a=t.filter((function(e){return"videoinput"===e.kind})),j(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),alert("Unable to list device.\n\n"+e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),[n]);return Object(l.useEffect)((function(){O()}),[n,O]),Object(l.useEffect)((function(){null===m||"AUTO"===i||Object(u.a)((function(e){return e.deviceId===i}),m)||b("AUTO")}),[m,b,i]),{preferredCameraId:Object(u.a)((function(e){return e.deviceId===i}),m||[])?i:"AUTO",cameraList:m||[],setPreferredCameraId:b,hasCameraSupport:n}})),f=Object(c.a)(b,2),p=f[0],m=f[1]},175:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var a,o=t(3),r=t(20),c=t(272),i=t(4),s=(t(0),t(268)),u=t.n(s),l=t(1),d=function(e){var n=e.value,t=e.onChange,a=e.placeholder,o=e.readOnly,i=Object(c.a)(e,["value","onChange","placeholder","readOnly"]);return Object(l.jsx)(b,Object(r.a)({value:n,placeholder:a,readOnly:o,onChange:function(e){t&&t(e.target.value)},async:!0},i))},b=Object(i.b)(u.a)(a||(a=Object(o.a)(["\n  text-align: center;\n  font-size: 32px;\n  background-color: transparent;\n  border: 0;\n  outline: none;\n  margin: 4px 0;\n  color: #fed426;\n  text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.8);\n  width: 100%;\n\n  padding-left: 0;\n  padding-right: 0;\n  line-height: 36px;\n  font-weight: 500;\n\n  &:focus {\n    outline: none;\n  }\n"])))},19:function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));t(411),t(412);var a=t(93),o=t.n(a),r=t(119),c=function(e){return o()(e).locale(r.a.language.toLowerCase())}},234:function(e,n,t){"use strict";t.d(n,"a",(function(){return q}));var a,o,r,c,i,s,u,l,d,b,f,p,m,j,O,g,h,v,x,_=t(3),k=t(159),y=t(155),w=t(0),S=t(446),C=t(56),R=t(4),T=t(152),A=t.p+"static/media/tick.6d45b966.svg",E=t(51),L=t(476),I=t(169),N=t.p+"static/media/checkbox.4e2450ab.svg",H=t.p+"static/media/checkboxChecked.7f6c2da0.svg",M=t(1),P=function(e){var n=e.onChange,t=e.checked,a=e.readOnly,o=void 0!==a&&a,r=function(){n&&n(!t)};return I.isAndroid?Object(M.jsx)(J,{checked:t,onClick:r,color:"primary",readOnly:o}):Object(M.jsx)(D,{src:t?H:N,onClick:o?void 0:r})},D=R.b.img(a||(a=Object(_.a)(["\n  height: 32px;\n  display: inline-block;\n  vertical-align: top;\n  margin: 0 8px;\n"]))),J=Object(R.b)(L.a)(o||(o=Object(_.a)(["\n  display: inline-block;\n  vertical-align: top;\n  margin: 0 8px !important;\n  padding: 0 !important;\n\n  &.MuiCheckbox-colorPrimary {\n    color: #fff !important;\n  }\n"]))),z=t(175),B=t(28),V=t(65),U=t(19),Z=t(100),q=function(e){var n=e.travelRecord,t=e.readOnly,a=void 0!==t&&t,o=e.confirmPageIcon,r=e.autoLeave,c=void 0===r||r,i=e.setAutoLeave,s=e.autoLeaveHour,u=void 0===s?4:s,l=e.handleChangeAutoLeaveHour,d=e.handleLeave,b=Object(S.a)("confirm").t,f=Object(V.b)().language,p=Object(w.useMemo)((function(){return Object(U.a)(n.inTime)}),[n]),m=Object(w.useMemo)((function(){return Object(Z.a)(n,f)}),[n,f]),j=Object(k.a)(B.b.PLACE,"type",n);return Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(F,{children:[Object(M.jsxs)(Y,{children:[o&&Object(M.jsx)(K,{src:o}),a?Object(M.jsx)(W,{src:T.a}):Object(M.jsx)(C.b,{to:"/",children:Object(M.jsx)(W,{src:T.a})})]}),Object(M.jsxs)(G,{children:[j===B.b.TAXI?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ne,{children:b("message.you_have_entered_taxi")}),Object(M.jsxs)(te,{children:[b("message.res_mark"),":"]})]}):Object(M.jsx)(ne,{children:b("message.you_have_entered_venue")}),Object(M.jsx)(Q,{children:Object(M.jsx)(z.a,{value:m||"",readOnly:!0})}),Object(M.jsx)(ae,{children:p.format("YYYY-MM-DD HH:mm")})]}),Object(M.jsx)(X,{children:Object(M.jsx)($,{children:Object(M.jsx)(ee,{src:A})})}),Object(M.jsxs)(se,{children:[Object(M.jsx)(E.a,{shadowed:!0,onClick:d,children:j===B.b.TAXI?b("button.get_off"):b("button.leave")}),Object(M.jsx)(ie,{children:b("message.remember_to_leave")}),Object(M.jsxs)(oe,{children:[Object(M.jsxs)(re,{children:[Object(M.jsx)(P,{checked:c,onChange:i,readOnly:Object(y.a)(i)}),b("form.auto_leave_after_x_hour",{hour:u})]}),Object(M.jsx)(ce,{onClick:l,children:b("global:button.change")})]})]})]})})},F=R.b.div(r||(r=Object(_.a)(["\n  width: 100%;\n  height: 100%;\n  text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.8);\n  display: flex;\n  flex-direction: column;\n  color: #fff;\n"]))),K=R.b.img(c||(c=Object(_.a)(["\n  height: 72px;\n"]))),Y=R.b.div(i||(i=Object(_.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  flex-shrink: 0;\n  margin: 24px 0 16px 0;\n"]))),W=R.b.img(s||(s=Object(_.a)(["\n  height: 20px;\n  margin: 8px 24px;\n  position: absolute;\n  right: 0;\n"]))),Q=R.b.div(u||(u=Object(_.a)(["\n  padding: 0 32px;\n"]))),G=R.b.div(l||(l=Object(_.a)(["\n  width: 100%;\n  height: 50%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]))),X=R.b.div(d||(d=Object(_.a)(["\n  height: 100%;\n  width: 100%;\n  text-align: center;\n"]))),$=R.b.div(b||(b=Object(_.a)(["\n  height: 100%;\n  max-height: 200px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]))),ee=R.b.img(f||(f=Object(_.a)(["\n  display: inline-block;\n  height: 100%;\n  max-height: 110px;\n"]))),ne=R.b.div(p||(p=Object(_.a)(["\n  color: #ffffff;\n  text-align: center;\n  font-size: 15px;\n"]))),te=Object(R.b)(ne)(m||(m=Object(_.a)(["\n  margin-top: 8px;\n"]))),ae=R.b.div(j||(j=Object(_.a)(["\n  color: #ffffff;\n  text-align: center;\n"]))),oe=R.b.div(O||(O=Object(_.a)(["\n  width: 100%;\n  max-width: 380px;\n  margin: 16px auto 24px auto;\n  display: flex;\n  flex-shrink: 0;\n  font-size: 14px;\n"]))),re=R.b.div(g||(g=Object(_.a)(["\n  width: 100%;\n  text-align: left;\n  padding-left: 24px;\n  line-height: 32px;\n"]))),ce=R.b.div(h||(h=Object(_.a)(["\n  flex-shrink: 0;\n  padding-right: 24px;\n  line-height: 32px;\n  color: #fed426;\n  text-decoration: underline;\n"]))),ie=R.b.div(v||(v=Object(_.a)(["\n  text-align: center;\n  flex-shrink: 0;\n"]))),se=R.b.div(x||(x=Object(_.a)(["\n  width: 100%;\n  flex-shrink: 0;\n"])))},235:function(e,n,t){"use strict";t.d(n,"a",(function(){return ae}));var a,o,r,c,i,s,u,l,d,b,f,p,m,j,O=t(6),g=t(159),h=t(0),v=t(28),x=t(65),_=t(44),k=t(42),y=t(19),w=t(100),S=t(3),C=t(93),R=t.n(C),T=t(446),A=t(80),E=t.n(A),L=t(4),I=t(81),N=t(51),H=t(1),M=function(e){var n=e.isModalOpen,t=e.onCancel,a=e.onLeaveNow,o=e.onLeaved,r=e.place,c=e.date,i=e.outTime,s=e.venueType,u=Object(T.a)("confirm").t,l=Object(h.useMemo)((function(){return R()(i)}),[i]),d=i?430:390;return Object(H.jsxs)(E.a,{isOpen:n,onRequestClose:t,style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"},content:{outline:"none",border:"0",padding:"16px",borderRadius:"8px",width:"240px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",height:s===v.b.TAXI?"".concat(d+24,"px"):"".concat(d,"px"),overflow:"hidden"}},ariaHideApp:!1,children:[Object(H.jsx)(D,{children:Object(H.jsx)(P,{src:I.a,onClick:t})}),s===v.b.TAXI?Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(B,{children:u("message.you_have_entered_taxi")}),Object(H.jsxs)(V,{children:[u("message.res_mark"),":"]})]}):Object(H.jsx)(B,{children:u("message.you_have_entered_venue")}),Object(H.jsx)(Z,{children:r}),Object(H.jsx)(U,{children:c.format("YYYY-MM-DD HH:mm")}),Object(H.jsx)(J,{children:u("message.you_sure_want_to_leave")}),i&&Object(H.jsx)(q,{children:u("form.auto_leave_at",{time:l.format("MM-DD HH:mm")})}),Object(H.jsx)(N.b,{onClick:a,children:u("button.leave_now")}),Object(H.jsxs)(z,{onClick:o,children:[" ",u("button.already_left")]})]})},P=L.b.img(a||(a=Object(S.a)(["\n  height: 20px;\n"]))),D=L.b.div(o||(o=Object(S.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: flex-end;\n  margin-bottom: 8px;\n"]))),J=L.b.div(r||(r=Object(S.a)(["\n  font-size: 20px;\n  text-align: center;\n  margin: 64px 0;\n  font-weight: 500;\n"]))),z=Object(L.b)(N.b)(c||(c=Object(S.a)(["\n  background-color: #12b188;\n  color: #fff;\n  text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.8);\n"]))),B=L.b.div(i||(i=Object(S.a)(["\n  text-align: center;\n  font-size: 16px;\n"]))),V=Object(L.b)(B)(s||(s=Object(S.a)(["\n  margin-top: 8px;\n"]))),U=L.b.div(u||(u=Object(S.a)(["\n  text-align: center;\n  font-size: 14px;\n"]))),Z=L.b.div(l||(l=Object(S.a)(["\n  color: unset;\n  text-shadow: none;\n  text-align: center;\n  font-size: 28px;\n  font-weight: 500;\n  line-height: 48px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"]))),q=L.b.div(d||(d=Object(S.a)(["\n  font-size: 12px;\n  text-align: center;\n  padding: 12px 0;\n"]))),F=t(478),K=t(475),Y=(t(430),t(267)),W=t.n(Y),Q=Object(h.forwardRef)((function(e,n){var t=Object(h.useState)(null),a=Object(O.a)(t,2),o=a[0],r=a[1];return Object(h.useImperativeHandle)(n,(function(){return{init:function(){var e=document.querySelector(".js-inline-picker");e&&r(new W.a(e,{inline:!0,rows:2}))},getValue:function(){return o?o.getDate():""}}})),Object(H.jsx)(G,{children:Object(H.jsx)("div",{className:"js-inline-picker"})})})),G=L.b.div(b||(b=Object(S.a)(["\n  & .picker {\n    font-size: 12px;\n  }\n\n  & .picker-dialog {\n    border: 0;\n  }\n\n  & .picker-cell:before {\n    background-image: unset;\n  }\n\n  & .picker-cell:after {\n    background-image: unset;\n  }\n\n  & .picker-picked {\n    color: unset;\n    border-top: #12b188 1px solid;\n    border-bottom: #12b188 1px solid;\n  }\n\n  & .picker-cell {\n    padding: 0 4px;\n  }\n\n  & .picker-item {\n    padding: 3px 0px;\n  }\n\n  & .picker-cell + .picker-cell {\n    border: 0;\n  }\n"]))),X=function(e){var n=e.isModalOpen,t=e.onCancel,a=e.onConfirm,o=e.date,r=Object(T.a)("confirm").t,c=Object(_.b)().currentTime,i=Object(h.useRef)(null),s=Object(h.useState)(!1),u=Object(O.a)(s,2),l=u[0],d=u[1],b=Object(h.useState)(!1),f=Object(O.a)(b,2),p=f[0],m=f[1];return Object(H.jsxs)(E.a,{isOpen:n,onRequestClose:t,style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"},content:{outline:"none",border:"0",padding:"16px",borderRadius:"8px",width:"240px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",height:"280px",overflow:"hidden"}},ariaHideApp:!1,onAfterOpen:function(){i.current&&i.current.init()},children:[Object(H.jsx)(ee,{children:Object(H.jsx)($,{src:I.a,onClick:t})}),Object(H.jsx)(ne,{children:r("message.when_you_left")}),Object(H.jsx)(te,{children:Object(H.jsx)(Q,{ref:i})}),Object(H.jsx)(N.b,{onClick:function(){var e=i.current?i.current.getValue():Date(),n=Object(y.a)(e).startOf("minute");n.isBefore(o.startOf("minute"))?d(!0):n.isAfter(c)?m(!0):a(n)},children:r("global:button.confirm")}),Object(H.jsx)(F.a,{open:l,autoHideDuration:2e3,onClose:function(){d(!1)},anchorOrigin:{vertical:"top",horizontal:"center"},children:Object(H.jsx)(K.a,{elevation:6,variant:"filled",severity:"error",children:r("message.leave_time_earlier_than_enter")})}),Object(H.jsx)(F.a,{open:p,autoHideDuration:2e3,onClose:function(){m(!1)},anchorOrigin:{vertical:"top",horizontal:"center"},children:Object(H.jsx)(K.a,{elevation:6,variant:"filled",severity:"error",children:r("message.future_leave_time")})})]})},$=L.b.img(f||(f=Object(S.a)(["\n  height: 20px;\n"]))),ee=L.b.div(p||(p=Object(S.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: flex-end;\n"]))),ne=L.b.div(m||(m=Object(S.a)(["\n  font-size: 20px;\n  text-align: center;\n  margin-top: 24px;\n"]))),te=L.b.div(j||(j=Object(S.a)(["\n  border-bottom: 1px #eeeeee solid;\n  border-top: 1px #eeeeee solid;\n  padding: 32px 0;\n  margin: 16px 0;\n"]))),ae=function(e){var n=e.id,t=e.visible,a=e.onDiscard,o=e.onFinish,r=Object(_.b)().currentTime,c=Object(k.c)().getTravelRecord,i=Object(h.useState)(!1),s=Object(O.a)(i,2),u=s[0],l=s[1],d=Object(x.b)().language,b=Object(h.useMemo)((function(){return c(n)}),[n,c]),f=Object(h.useMemo)((function(){return b?Object(w.a)(b,d):""}),[b,d]),p=Object(g.a)(v.b.PLACE,"type",b);return b?Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(M,{isModalOpen:t&&!u,onCancel:function(){l(!1),a()},onLeaveNow:function(){o(r)},onLeaved:function(){l(!0)},place:f||"",date:Object(y.a)(b.inTime),outTime:b.outTime,venueType:p}),Object(H.jsx)(X,{isModalOpen:t&&u,onCancel:function(){l(!1),a()},onConfirm:function(e){o(e)},date:Object(y.a)(b.inTime)})]}):Object(H.jsx)(H.Fragment,{})}},236:function(e){e.exports=JSON.parse('{"name":"Camera Settings","form":{"camera_choice":{"auto":"AUTO","label":"Camera Source","explain":"Change camera source until there is a preview"}}}')},237:function(e){e.exports=JSON.parse('{"message":{"you_have_entered_taxi":"You have entered taxi","res_mark":"Registration Mark","you_have_entered_venue":"You have entered the venue","remember_to_leave":"Remember to press the \\"Leave Venue\\" button","set_auto_leave_time":"Set Auto-leave Time","enter_at":"Enter Venue at {{time}}","auto_leave_at":"Auto-leave at {{time}}","you_sure_want_to_leave":"Are you leaving now\uff1f","when_you_left":"When did you leave\uff1f","future_leave_time":"Leave time cannot be future","leave_time_earlier_than_enter":"Leave time cannot be earlier than enter time"},"form":{"auto_leave_after_x_hour":"Auto leave after {{hour}} hour(s)","auto_leave_at":"Auto Leave at {{time}}","hour":"Hours"},"button":{"leave":"Leave Venue","get_off":"Get Off","leave_now":"Yes, I\'m leaving now","already_left":"I\'ve already left"}}')},238:function(e){e.exports=JSON.parse('{"name":"Confirm Page Settings","message":{"test_place":"Test Venue"},"form":{"custom_icon":"Custom Icon"},"button":{"remove_icon":"Remove Icon"}}')},239:function(e){e.exports=JSON.parse('{"name":"Disclaimer","message":{"you_accepted":"By using the software, you have agreed"}}')},240:function(e){e.exports=JSON.parse('{"disclaimer":{"1":"back-home-safe (hereinafter called \u2018this software\u2019) is only used for academic use around PWA (Progressive WebApps). To demonstrate the implementation of native app features on the web (like QR Code Scanner, front-end encryption, etc.).","2":"This software is not in any way endorsed by nor affiliated with the Government of the HKSAR. It is not the official contact tracing app. DO NOT use this software as a substitute for the official LeaveHomeSafe application.","3":"The author takes no responsibility and legal liability for any misuse of this software, and reserves the right to seek all remedies available by law for any violation of these Terms of Use."},"button":{"last_page":"Last Page","next_page":"Next Page","complete":"Complete","install":"Install","set":"Set","skip":"Skip","leave":"Leave","save":"Save","preview":"Preview","unlock":"Unlock","change":"Change","confirm":"Confirm","confirm_page":"Confirm Page"},"form":{"optional":"Optional"}}')},241:function(e){e.exports=JSON.parse('{"message":{"please_input_password":"Please Unlock","wrong_password":"Wrong Password"},"button":{"reset":"Clear All Data"}}')},242:function(e){e.exports=JSON.parse('{"home":{"name":"Home","record_your_visit":"Record your visit","you_have_entered":"You have entered","form":{"venue_name":{"label":"I want to go","placeholder":"Venue Name"},"taxi":{"label":"I\'m taking","placeholder":"Taxi Reg Mark"}},"button":{"go":"Let\'s Go!","scan_qr_code":"Scan QR Code","ride":"Let\'s Go!"}},"travel_record":{"name":"Visit Records","message":{"incognito_activated":"Incognito Mode Activated","empty":"No Visit Record","auto_remove_record":"Record will be auto deleted after {{day}} day(s)"}},"setting":{"name":"Settings","section":{"common":"Common","lab":"Lab","version":"Version"},"item":{"camera_setting":"Camera Settings","confirm_page_setting":"Confirm Page Settings","incognito_mode":{"name":"Incognito Mode","explanation":"Stop saving visit record"},"qr_generator":"QR Code Generator","reset":"Reset All Data","about_us":"About BackHomeSafe","disclaimer":"Disclaimer","change_log":"Change Log","report_issue":"Bug Report","language":"Language","auto_delete_record":"Auto Delete Record","export_data":"Export Records","vaccinationQRReader":"Vaccination QR Code Reader"},"form":{"day":"day","days":"days"}},"bookmark":{"name":"Bookmark","message":{"empty":"No Bookmark"}}}')},243:function(e){e.exports=JSON.parse('{"name":"QR Generator","form":{"typeZh":"Venue Type(Chinese) (typeZh)","typeEn":"Venue Type(English) (typeEn)","nameZh":"Venue Name(Chinese) (nameZh)","nameEn":"Venue Name(English) (nameEn)","addressZh":"Venue Address(Chinese) (Only for preview)","addressEn":"Venue Address(English) (Only for preview)","type":"Type","venue_code":"Venue Code (Don\'t touch)","venue_id":"Venue ID (Don\'t touch)","custom_icon":"Custom Icon"}}')},244:function(e){e.exports=JSON.parse('{"name":"Scan the QR Code","message":{"scan_qr_code":"Scan the QR Code","doesnt_support_get_user_media":"This device doesn\'t support getUserMedia API","sure_above_ios_14":"Make sure the device is running iOS 14 or above"},"button":{"back_home":"Back To Home Screen","camera_setting":"Camera Setting"},"dialog":{"cannot_open_camera":{"title":"Cannot activate camera","content":"Cannot activate camera, please go to camera setting page change camera source."}}}')},245:function(e){e.exports=JSON.parse('{"add_to_home_screen":{"name":"Add to Home screen","message":{"add_to_home_screen_first":"First things first: add to Home screen.","to_act_as_an_app":"For a full-native app experience."},"step":{"ios":"Launch with \\"Safari\\" => Tap the \\"Share\\" icon at the bottom of the screen (a box with an upward-pointing arrow) => Tap \\"Add to Home screen\\"","android":"Launch with \\"Chrome\\" => Tap the menu icon (3 dots in upper right-hand corner) => Tap \\"Add to Home screen\\"."}},"disclaimer":{"name":"Disclaimer","accept":"I agree"},"setup_password":{"name":"Setup Password","message":{"password_usage":"Setup password to protect your Visit Records."}},"language":{"name":"Language"}}')},246:function(e){e.exports=JSON.parse('{"name":"Scan the QR Code","message":{"scan_qr_code":"Scan the QR Code","doesnt_support_get_user_media":"This device doesn\'t support getUserMedia API","sure_above_ios_14":"Make sure the device is running iOS 14 or above"},"button":{"back_home":"Back To Home Screen","camera_setting":"Camera Setting"},"dialog":{"cannot_open_camera":{"title":"Cannot activate camera","content":"Cannot activate camera, please go to camera setting page change camera source."}}}')},247:function(e){e.exports=JSON.parse('{"name":"\u76f8\u6a5f\u8a2d\u5b9a","form":{"camera_choice":{"auto":"\u81ea\u52d5","label":"\u76f8\u6a5f\u9078\u64c7","explain":"\u8abf\u8f03\u76f8\u6a5f\u9078\u9805\uff0c\u76f4\u81f3\u6709\u76f8\u6a5f\u756b\u9762\u986f\u793a"}}}')},248:function(e){e.exports=JSON.parse('{"message":{"you_have_entered_taxi":"\u4f60\u5df2\u9032\u5165\u7684\u58eb","res_mark":"\u8eca\u724c\u865f\u78bc","you_have_entered_venue":"\u4f60\u5df2\u9032\u5165\u5834\u6240","remember_to_leave":"\u7576\u4f60\u96e2\u958b\u6642\u8acb\u7dca\u8a18\u6309\\"\u96e2\u958b\\"","set_auto_leave_time":"\u8a2d\u7f5d\u81ea\u52d5\u96e2\u958b\u6642\u9593","enter_at":"\u65bc{{time}} \u9032\u5165\u5834\u6240","auto_leave_at":"\u65bc{{time}} \u81ea\u52d5\u96e2\u958b","you_sure_want_to_leave":"\u4f60\u73fe\u5728\u8981\u96e2\u958b\u55ce\uff1f","when_you_left":"\u4f60\u662f\u4ec0\u9ebc\u6642\u5019\u96e2\u958b\uff1f","future_leave_time":"\u96e2\u958b\u65e5\u671f\u4e0d\u80fd\u662f\u672a\u4f86","leave_time_earlier_than_enter":"\u96e2\u958b\u65e5\u671f\u4e0d\u80fd\u65e9\u65bc\u9032\u5165\u65e5\u671f"},"form":{"auto_leave_after_x_hour":"{{hour}}\u5c0f\u6642\u5f8c\u81ea\u52d5\u96e2\u958b","auto_leave_at":"\u65bc{{time}} \u81ea\u52d5\u96e2\u958b","hour":"\u5c0f\u6642"},"button":{"leave":"\u96e2\u958b\u5834\u6240","get_off":"\u4e0b\u8eca","leave_now":"\u662f\u7684\uff0c\u6211\u73fe\u5728\u8981\u96e2\u958b","already_left":"\u6211\u5df2\u7d93\u96e2\u958b\u4e86"}}')},249:function(e){e.exports=JSON.parse('{"name":"\u78ba\u8a8d\u9801\u8a2d\u5b9a","message":{"test_place":"\u6e2c\u8a66\u5730\u9ede"},"form":{"custom_icon":"\u81ea\u5b9aIcon"},"button":{"remove_icon":"\u79fb\u9664Icon"}}')},250:function(e){e.exports=JSON.parse('{"name":"\u514d\u8cac\u8072\u660e","message":{"you_accepted":"\u4f7f\u7528\u6b64\u8edf\u4ef6\u4ee3\u8868\u4f60\u5df2\u540c\u610f"}}')},251:function(e){e.exports=JSON.parse('{"disclaimer":{"1":"\u5b89\u5fc3\u56de\u5bb6\uff08\u4e0b\u7c21\u7a31\u300c\u672c\u8edf\u4ef6\u300d\uff09\u53ea\u7528\u4f5c\u6f38\u9032\u5f0f\u7db2\u8def\u61c9\u7528\u7a0b\u5f0f (Progressive WebApps) \u5b78\u8853\u8a0e\u8ad6\u7528\u9014\uff0c \u7528\u65bc\u793a\u7bc4\u4e0d\u540c mobile app \u529f\u80fd\u65bc\u7db2\u9801\u4e0a\u7684\u5be6\u73fe\u65b9\u5f0f\uff08\u5982QR code \u6383\u7784\uff0c\u524d\u7aef\u8cc7\u6599\u52a0\u5bc6\u7b49\u7b49\uff09\u3002","2":"\u672c\u8edf\u4ef6\u672a\u6709\u4ee5\u4efb\u4f55\u65b9\u5f0f\u5f97\u5230\u9999\u6e2f\u7279\u5225\u884c\u653f\u5340\u653f\u5e9c\uff08\u4e0b\u7c21\u7a31\u300c\u7279\u5340\u653f\u5e9c\u300d\uff09\u7684\u8a8d\u53ef\u3002\u8207\u7279\u5340\u653f\u5e9c\u63a8\u51fa\u7684\u300c\u5b89\u5fc3\u51fa\u884c\u300d\u61c9\u7528\u7a0b\u5f0f\u6c92\u6709\u4efb\u4f55\u95dc\u4fc2\uff0c\u4ea6\u4e0d\u662f\u7279\u5340\u653f\u5e9c\u5b98\u65b9\u7684\u8ffd\u8e2a\u7a0b\u5f0f\u3002\u56e0\u6b64\u672c\u8edf\u4ef6\u4e0d\u61c9\u53d6\u4ee3\u7279\u5340\u653f\u5e9c\u300c\u5b89\u5fc3\u51fa\u884c\u300d\u61c9\u7528\u7a0b\u5f0f\u3002","3":"\u4efb\u4f55\u4eba\u58eb\u5728\u4f7f\u7528\u672c\u8edf\u4ef6\u4f5c\u4efb\u4f55\u7528\u9014\u524d\uff0c\u61c9\u5148\u5c0b\u6c42\u7368\u7acb\u7684\u6cd5\u5f8b\u610f\u898b\u6216\u5176\u4ed6\u5c08\u696d\u610f\u898b\u3002\u7528\u6236\u82e5\u56e0\u4f7f\u7528\uff0f\u672a\u80fd\u4f7f\u7528\u672c\u8edf\u4ef6\uff0c\u6216\u4ee5\u672c\u8edf\u4ef6\u4f5c\u4efb\u4f55\u8aa4\u7528\u884c\u70ba\u5f15\u81f4\u7684\u640d\u5931\u3001\u640d\u5bb3\u3001\u6cd5\u5f8b\u8cac\u4efb\u6216\u5176\u4ed6\u5f8c\u679c\uff0c\u4f5c\u8005\u6982\u4e0d\u6703\u627f\u64d4\u4efb\u4f55\u6cd5\u5f8b\u8cac\u4efb\uff0c\u4e26\u4fdd\u7559\u8ffd\u7a76\u6b0a\u5229\u3002"},"button":{"last_page":"\u4e0a\u4e00\u9801","next_page":"\u4e0b\u4e00\u9801","complete":"\u5b8c\u6210","install":"\u5b89\u88dd","set":"\u8a2d\u5b9a","skip":"\u8df3\u904e","leave":"\u96e2\u958b","save":"\u5132\u5b58","preview":"\u9810\u89bd","unlock":"\u89e3\u9396","change":"\u8b8a\u66f4","confirm":"\u78ba\u8a8d","confirm_page":"\u78ba\u8a8d\u9801"},"form":{"optional":"\u9078\u7528"}}')},252:function(e){e.exports=JSON.parse('{"message":{"please_input_password":"\u8acb\u8f38\u5165\u5bc6\u78bc\u89e3\u9396","wrong_password":"\u5bc6\u78bc\u932f\u8aa4"},"button":{"reset":"\u91cd\u8a2d\u6240\u6709\u8cc7\u6599"}}')},253:function(e){e.exports=JSON.parse('{"home":{"name":"\u4e3b\u9801","record_your_visit":"\u8a18\u9304\u4f60\u7684\u5230\u8a2a","you_have_entered":"\u4f60\u5df2\u9032\u5165","form":{"venue_name":{"label":"\u6211\u60f3\u53bb","placeholder":"\u8f38\u5165\u5730\u5740"},"taxi":{"label":"\u6211\u642d\u7dca","placeholder":"\u8f38\u5165\u8eca\u724c"}},"button":{"go":"\u8a71\u53bb\u5c31\u53bb!","scan_qr_code":"\u6383\u7784\u4e8c\u7dad\u78bc","ride":"\u8a71\u642d\u5c31\u642d!"}},"travel_record":{"name":"\u51fa\u884c\u7d00\u9304","message":{"incognito_activated":"\u96b1\u79c1\u6a21\u5f0f\u5df2\u958b\u555f","empty":"\u6c92\u6709\u51fa\u884c\u7d00\u9304","auto_remove_record":"\u7d00\u9304\u5728{{day}}\u5929\u5f8c\u81ea\u52d5\u522a\u9664"}},"setting":{"name":"\u8a2d\u5b9a","section":{"common":"\u5e38\u7528","lab":"\u5be6\u9a57\u5ba4","version":"\u7248\u672c"},"item":{"camera_setting":"\u76f8\u6a5f\u8a2d\u5b9a","confirm_page_setting":"\u78ba\u8a8d\u9801\u8a2d\u5b9a","incognito_mode":{"name":"\u96b1\u79c1\u6a21\u5f0f","explanation":"\u4e0d\u5132\u5b58\u51fa\u884c\u7d00\u9304"},"qr_generator":"\u751f\u6210\u4e8c\u7dad\u78bc","reset":"\u91cd\u8a2d\u6240\u6709\u8cc7\u6599","about_us":"\u95dc\u65bc\u5b89\u5fc3\u56de\u5bb6","disclaimer":"\u514d\u8cac\u8072\u660e","change_log":"\u66f4\u65b0\u7d00\u9304","report_issue":"\u56de\u5831\u554f\u984c","language":"\u8a9e\u8a00","auto_delete_record":"\u81ea\u52d5\u522a\u9664\u7d00\u9304","export_data":"\u5c0e\u51fa\u7d00\u9304","vaccinationQRReader":"\u8b80\u53d6\u96fb\u5b50\u91dd\u5361\u4e8c\u7dad\u78bc"},"form":{"day":"\u5929","days":"\u5929"}},"bookmark":{"name":"\u66f8\u7c64","message":{"empty":"\u6c92\u6709\u66f8\u7c64"}}}')},254:function(e){e.exports=JSON.parse('{"name":"\u751f\u6210\u4e8c\u7dad\u78bc","form":{"typeZh":"\u5834\u6240\u7a2e\u985e(\u4e2d\u6587) (typeZh)","typeEn":"\u5834\u6240\u7a2e\u985e(\u82f1\u6587) (typeEn)","nameZh":"\u5834\u6240\u540d\u5b57(\u4e2d\u6587) (nameZh)","nameEn":"\u5834\u6240\u540d\u5b57(\u82f1\u6587) (nameEn)","addressZh":"\u5834\u6240\u5730\u5740(\u4e2d\u6587) (\u9810\u89bd\u7528)","addressEn":"\u5834\u6240\u5730\u5740(\u82f1\u6587) (\u9810\u89bd\u7528)","type":"\u985e\u578b","venue_code":"\u5834\u5730\u7de8\u78bc (\u5514\u77e5\u5514\u597d\u641e)","venue_id":"\u5834\u5730ID (\u5514\u77e5\u5514\u597d\u641e)","custom_icon":"\u81ea\u5b9aIcon"}}')},255:function(e){e.exports=JSON.parse('{"name":"\u6383\u7784\u4e8c\u7dad\u78bc","message":{"scan_qr_code":"\u6383\u7784\u4e8c\u7dad\u78bc","doesnt_support_get_user_media":"\u6b64\u88dd\u7f6e\u4e0d\u652f\u63f4 getUserMedia API","sure_above_ios_14":"\uff0c\u8acb\u78ba\u4fdd\u88dd\u7f6e\u5728IOS 14\u6216\u4ee5\u4e0a"},"button":{"back_home":"\u56de\u5230\u4e3b\u9801","camera_setting":"\u76f8\u6a5f\u8a2d\u5b9a"},"dialog":{"cannot_open_camera":{"title":"\u672a\u80fd\u958b\u555f\u76f8\u6a5f\u93e1\u982d","content":"\u672a\u80fd\u958b\u555f\u76f8\u6a5f\u93e1\u982d\uff0c\u8acb\u5230\u76f8\u6a5f\u8a2d\u5b9a\u9032\u884c\u8a2d\u7f6e"}}}')},256:function(e){e.exports=JSON.parse('{"add_to_home_screen":{"name":"\u65b0\u589e\u81f3\u4e3b\u756b\u9762","message":{"add_to_home_screen_first":"\u65b0\u589e\u81f3\u4e3b\u756b\u9762\u5148\u5566","to_act_as_an_app":"\u5514\u4fc2\u9ede\u4f3c\u500bApp"},"step":{"ios":"\u7528Safari\u958b=>\u5206\u4eab=>\u65b0\u589e\u81f3\u4e3b\u756b\u9762","android":"\u7528Chrome\u958b=>\u53f3\u4e0a\u9078\u9805=>\u65b0\u589e\u81f3\u4e3b\u756b\u9762/\u5b89\u88dd\u61c9\u7528\u7a0b\u5f0f"}},"disclaimer":{"name":"\u514d\u8cac\u8072\u660e","accept":"\u6211\u540c\u610f"},"setup_password":{"name":"\u8a2d\u5b9a\u5bc6\u78bc","message":{"password_usage":"\u5bc6\u78bc\u7528\u65bc\u52a0\u5bc6\u51fa\u884c\u7d00\u9304"}},"language":{"name":"\u8a9e\u8a00"}}')},257:function(e){e.exports=JSON.parse('{"name":"\u6383\u7784\u4e8c\u7dad\u78bc","message":{"scan_qr_code":"\u6383\u7784\u4e8c\u7dad\u78bc","doesnt_support_get_user_media":"\u6b64\u88dd\u7f6e\u4e0d\u652f\u63f4 getUserMedia API","sure_above_ios_14":"\uff0c\u8acb\u78ba\u4fdd\u88dd\u7f6e\u5728IOS 14\u6216\u4ee5\u4e0a"},"button":{"back_home":"\u56de\u5230\u4e3b\u9801","camera_setting":"\u76f8\u6a5f\u8a2d\u5b9a"},"dialog":{"cannot_open_camera":{"title":"\u672a\u80fd\u958b\u555f\u76f8\u6a5f\u93e1\u982d","content":"\u672a\u80fd\u958b\u555f\u76f8\u6a5f\u93e1\u982d\uff0c\u8acb\u5230\u76f8\u6a5f\u8a2d\u5b9a\u9032\u884c\u8a2d\u7f6e"}}}')},28:function(e,n,t){"use strict";t.d(n,"b",(function(){return a})),t.d(n,"a",(function(){return h})),t.d(n,"c",(function(){return v}));var a,o=t(20),r=t(55),c=t(6),i=t(38),s=t(439),u=t(271),l=t(277),d=t(151),b=t(0),f=t(276),p=t(116),m=t(44);!function(e){e.PLACE="PLACE",e.TAXI="TAXI"}(a||(a={}));var j=Object(s.a)(["venueId","nameEn","nameZh","type","originalData"]),O=Object(i.a)((function(){var e=Object(m.b)().currentTime,n=Object(p.a)({key:"bookmark_location",defaultValue:[]}),t=n.unlockStore,a=n.lockStore,c=n.value,i=n.setValue,s=n.initPassword,O=n.unlocked,g=n.isEncrypted,h=n.password,v=Object(b.useCallback)((function(e){i((function(n){return Object(u.a)((function(n){return n.id===e}),n)}))}),[i]),x=Object(b.useCallback)((function(n){i((function(t){return[Object(o.a)(Object(o.a)({},j(n)),{},{createdAt:e.toISOString(),id:Object(f.a)()})].concat(Object(r.a)(t))}))}),[i,e]),_=Object(b.useCallback)((function(e){var n=j(e),t=Object(l.a)((function(e){var t=j(e);return Object(d.a)(n,t)}),c);return t?t.id:null}),[c]);return{unlockBookmarkLocation:t,lockBookmarkLocation:a,bookmarkLocation:c,setBookmarkLocation:i,encryptBookmarkLocation:s,unlocked:O,isEncrypted:g,password:h,removeBookmarkLocation:v,createBookmarkLocation:x,getBookmarkLocationId:_}})),g=Object(c.a)(O,2),h=g[0],v=g[1]},297:function(e,n){},299:function(e,n){},309:function(e,n){},311:function(e,n){},338:function(e,n){},339:function(e,n){},344:function(e,n){},346:function(e,n){},353:function(e,n){},372:function(e,n){},42:function(e,n,t){"use strict";t.d(n,"b",(function(){return a})),t.d(n,"a",(function(){return _})),t.d(n,"c",(function(){return k}));var a,o=t(20),r=t(55),c=t(6),i=t(38),s=t(277),u=t(447),l=t(448),d=t(271),b=t(0),f=t(15),p=t(98),m=t(276),j=t(19),O=t(116),g=t(44);!function(e){e.MANUALLY="MANUALLY",e.SCAN="SCAN",e.BOOKMARK="BOOKMARK"}(a||(a={}));var h=function(e){return e.sort((function(e,n){return Object(j.a)(e.inTime).isSame(n.inTime)?0:Object(j.a)(e.inTime).isBefore(n.inTime)?1:-1}))},v=Object(i.a)((function(){var e=Object(g.b)().currentTime,n=Object(O.a)({key:"travel_record",defaultValue:[]}),t=n.unlockStore,a=n.lockStore,i=n.value,v=n.setValue,x=n.initPassword,_=n.unlocked,k=n.incognito,y=n.setIncognito,w=n.isEncrypted,S=n.password,C=Object(f.e)(),R=Object(p.a)("auto_remove_record_after",30),T=Object(c.a)(R,2),A=T[0],E=T[1],L=Object(b.useMemo)((function(){var n=i.reduce((function(n,t){return t.outTime&&Object(j.a)(t.outTime).isBefore(e)?{pastTravelRecord:[t].concat(Object(r.a)(n.pastTravelRecord)),currentTravelRecord:Object(r.a)(n.currentTravelRecord)}:{pastTravelRecord:Object(r.a)(n.pastTravelRecord),currentTravelRecord:[t].concat(Object(r.a)(n.currentTravelRecord))}}),{pastTravelRecord:[],currentTravelRecord:[]}),t=n.pastTravelRecord,a=n.currentTravelRecord;return{pastTravelRecord:h(t),currentTravelRecord:h(a)}}),[i,e]),I=L.pastTravelRecord,N=L.currentTravelRecord;Object(b.useEffect)((function(){v((function(n){return n.filter((function(n){var t=n.inTime;return e.diff(t,"day")<=(A||30)}))}))}),[e,v,A]);var H=Object(b.useCallback)((function(e){v((function(n){return[e].concat(Object(r.a)(n))}))}),[v]),M=Object(b.useCallback)((function(e){return Object(s.a)((function(n){return n.id===e}),i)}),[i]),P=Object(b.useCallback)((function(e,n){v((function(t){var a=Object(u.a)((function(n){return n.id===e}),t);return a<0?t:Object(l.a)(a,(function(e){return Object(o.a)(Object(o.a)({},e),n)}),t)}))}),[v]),D=Object(b.useCallback)((function(e){v((function(n){return Object(d.a)((function(n){return n.id===e}),n)}))}),[v]),J=Object(b.useCallback)((function(e){var n=Object(m.a)(),t=Object(j.a)(),a=Object(o.a)(Object(o.a)({},e),{},{id:n,inTime:t.toISOString(),outTime:t.add(4,"hour").toISOString()});H(a),C.push({pathname:"/confirm/".concat(n),state:a})}),[H,C]);return{travelRecord:i,setTravelRecord:v,currentTravelRecord:N,pastTravelRecord:I,createTravelRecord:H,getTravelRecord:M,updateTravelRecord:P,removeTravelRecord:D,lockTravelRecord:a,unlockTravelRecord:t,encryptTravelRecord:x,unlocked:_,incognito:k,setIncognito:y,isEncrypted:w,setAutoRemoveRecordDay:E,autoRemoveRecordDay:A,password:S,enterLocation:J}})),x=Object(c.a)(v,2),_=x[0],k=x[1]},437:function(e,n,t){"use strict";t.r(n);var a,o=t(39),r=t(119),c=t(97),i=t(45),s=t(236),u=t(237),l=t(238),d=t(239),b=t(240),f=t(241),p=t(242),m=t(243),j=t(244),O={global:b,tutorial:t(245),main_screen:p,qr_reader:j,qr_generator:m,login:f,disclaimer:d,confirm:u,confirm_page_setting:l,camera_setting:s,vaccination_qr_reader:t(246)},g=t(247),h=t(248),v=t(249),x=t(250),_=t(251),k=t(252),y=t(253),w=t(254),S=t(255),C={global:_,tutorial:t(256),main_screen:y,qr_reader:S,qr_generator:w,login:k,disclaimer:x,confirm:h,confirm_page_setting:v,camera_setting:g,vaccination_qr_reader:t(257)};r.a.use(c.e).init({resources:(a={},Object(o.a)(a,i.a["ZH-HK"],C),Object(o.a)(a,i.a.EN,O),a),lng:i.a["ZH-HK"],fallbackLng:i.a["ZH-HK"],interpolation:{escapeValue:!1},debug:!0});var R,T,A,E,L,I,N,H,M,P,D,J=t(270),z=t(474),B=t(472),V=t(473),U=t(0),Z=t.n(U),q=t(32),F=t.n(q),K=t(56),Y=t(3),W=t(20),Q=t(6),G=(t(438),t(278)),X=t(155),$=t(15),ee=t(477),ne=t(98),te=t(4),ae=t(466),oe=t(1),re=function(){var e=Object(U.useState)(!1),n=Object(Q.a)(e,2),t=n[0],a=n[1];return Object(U.useEffect)((function(){var e=setTimeout((function(){return a(!0)}),200);return function(){clearTimeout(e)}})),t?Object(oe.jsx)(ce,{children:Object(oe.jsx)(ie,{children:Object(oe.jsx)(ae.a,{})})}):null},ce=te.b.div(R||(R=Object(Y.a)(["\n  z-index: 1000;\n  position: absolute;\n  top: 50%; /* position the top  edge of the element at the middle of the parent */\n  left: 50%; /* position the left edge of the element at the middle of the parent */\n\n  transform: translate(\n    -50%,\n    -50%\n  ); /* This is a shorthand of\n                                         translateX(-50%) and translateY(-50%) */\n"]))),ie=te.b.div(T||(T=Object(Y.a)(["\n  background-color: #fff;\n  padding: 40px;\n  border-radius: 8px;\n"]))),se=t(235),ue=t(42),le=t(19),de=t(446),be=t(80),fe=t.n(be),pe=t(81),me=t.p+"static/media/greenTick.5e528318.svg",je=t(51),Oe=function(e){var n=e.isModalOpen,t=e.onCancel,a=e.onConfirm,o=e.selectedAutoLeaveHour,r=e.date,c=Object(de.a)("confirm").t,i=Object(U.useState)(o),s=Object(Q.a)(i,2),u=s[0],l=s[1];Object(U.useEffect)((function(){l(o)}),[l,o]);var d=Object(U.useMemo)((function(){return r.add(u,"hour")}),[r,u]);return Object(oe.jsxs)(fe.a,{isOpen:n,onRequestClose:t,style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"},content:{outline:"none",border:"0",padding:"16px",borderRadius:"8px",width:"240px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",height:"370px",overflow:"hidden"}},ariaHideApp:!1,children:[Object(oe.jsx)(he,{children:Object(oe.jsx)(ge,{src:pe.a,onClick:t})}),Object(oe.jsx)(ve,{children:c("message.set_auto_leave_time")}),Object(oe.jsx)(xe,{id:"scroll",children:Object(oe.jsx)(_e,{children:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24].map((function(e){return Object(oe.jsxs)(ke,{onClick:function(){l(e)},children:["+ ",e,c("form.hour"),u===e&&Object(oe.jsx)(we,{src:me})]},e)}))})}),Object(oe.jsxs)(ye,{children:[Object(oe.jsx)("div",{children:c("message.enter_at",{time:r.format("MM-DD HH:mm")})}),Object(oe.jsx)("div",{children:c("message.auto_leave_at",{time:d.format("MM-DD HH:mm")})})]}),Object(oe.jsx)(je.b,{onClick:function(){a(u)},children:c("global:button.confirm")})]})},ge=te.b.img(A||(A=Object(Y.a)(["\n  height: 20px;\n"]))),he=te.b.div(E||(E=Object(Y.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: flex-end;\n"]))),ve=te.b.h1(L||(L=Object(Y.a)(["\n  font-size: 20px;\n  text-align: center;\n  margin-top: 20px;\n  margin-bottom: 0;\n"]))),xe=te.b.div(I||(I=Object(Y.a)(["\n  overflow: auto;\n  height: 180px;\n  padding: 0 8px;\n"]))),_e=te.b.ul(N||(N=Object(Y.a)(["\n  list-style: none;\n  margin: 0;\n  padding: 0;\n"]))),ke=te.b.li(H||(H=Object(Y.a)(["\n  line-height: 40px;\n  border-bottom: 1px #eeeeee solid;\n  padding: 0 8px;\n"]))),ye=te.b.div(M||(M=Object(Y.a)(["\n  font-size: 12px;\n  text-align: center;\n  padding: 16px 0;\n"]))),we=te.b.img(P||(P=Object(Y.a)(["\n  height: 32px;\n  position: relative;\n  float: right;\n  top: 4px;\n"]))),Se=t(234),Ce=function(e){var n=e.confirmPageIcon,t=Object($.e)(),a=Object($.g)().id,o=Object($.f)().state,r=Object(ue.c)(),c=r.updateTravelRecord,i=r.getTravelRecord,s=Object(U.useState)(!1),u=Object(Q.a)(s,2),l=u[0],d=u[1],b=Object(U.useState)(!1),f=Object(Q.a)(b,2),p=f[0],m=f[1],j=Object(U.useMemo)((function(){return o||i(a)}),[o,i,a]);Object(U.useEffect)((function(){j||t.replace("/")}),[j,t]);var O=Object(U.useState)(!j||!Object(X.a)(j.outTime)),g=Object(Q.a)(O,2),h=g[0],v=g[1],x=Object(U.useState)(j&&j.outTime?Object(le.a)(j.outTime).diff(j.inTime,"hour"):4),_=Object(Q.a)(x,2),k=_[0],y=_[1],w=Object(U.useMemo)((function(){return j?j.inTime:Object(le.a)().toISOString()}),[j]);return Object(U.useEffect)((function(){var e=Object(le.a)(w).add(k,"hour");c(a,{outTime:h?e.toISOString():void 0})}),[h,k,c,a,w]),j?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Se.a,{travelRecord:j,confirmPageIcon:n,autoLeave:h,setAutoLeave:v,autoLeaveHour:k,handleChangeAutoLeaveHour:function(){d(!0)},handleLeave:function(){m(!0)}}),Object(oe.jsx)(Oe,{isModalOpen:l,onCancel:function(){d(!1)},onConfirm:function(e){y(e),d(!1)},selectedAutoLeaveHour:k,date:Object(le.a)(w)}),Object(oe.jsx)(se.a,{id:a,visible:p,onDiscard:function(){m(!1)},onFinish:function(e){c(a,{outTime:e.startOf("minute").toISOString()}),d(!1),m(!1),t.push("/")}})]}):Object(oe.jsx)(oe.Fragment,{})},Re=t(107),Te=t(480),Ae=t(479),Ee=t(276),Le=t(28),Ie=Z.a.lazy((function(){return Promise.all([t.e(0),t.e(1),t.e(3),t.e(9),t.e(21)]).then(t.bind(null,659))})),Ne=Z.a.lazy((function(){return Promise.all([t.e(0),t.e(2),t.e(4),t.e(13)]).then(t.bind(null,628))})),He=Z.a.lazy((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(15),t.e(19)]).then(t.bind(null,634))})),Me=Z.a.lazy((function(){return Promise.all([t.e(0),t.e(1),t.e(3),t.e(12),t.e(20)]).then(t.bind(null,654))})),Pe=Z.a.lazy((function(){return Promise.all([t.e(0),t.e(1),t.e(8),t.e(17)]).then(t.bind(null,656))})),De=Z.a.lazy((function(){return t.e(18).then(t.bind(null,648))})),Je=Z.a.lazy((function(){return Promise.all([t.e(0),t.e(1),t.e(3),t.e(11)]).then(t.bind(null,649))})),ze=Z.a.lazy((function(){return t.e(16).then(t.bind(null,650))})),Be=Z.a.lazy((function(){return Promise.all([t.e(0),t.e(2),t.e(4),t.e(10),t.e(14)]).then(t.bind(null,660))})),Ve=function(){!function(){var e=Object(ne.a)("password_hash",null),n=Object(Q.a)(e,3)[2];Object(U.useEffect)((function(){n()}),[n]);var t=Object(ue.c)(),a=t.unlocked,o=t.setTravelRecord,r=t.travelRecord,c=t.password;Object(Ae.a)((function(){o((function(e){return e.map((function(e){return Object(Te.a)("id",e)?e:Object(W.a)(Object(W.a)({},e),{},{id:Object(Ee.a)()})}))}))}),[a,r,o]);var i=Object(Le.c)(),s=i.encryptBookmarkLocation,u=i.isEncrypted;Object(U.useEffect)((function(){c&&!u&&s(c)}),[c,s,u])}();var e=Object(ne.a)("finished_tutorial",!1),n=Object(Q.a)(e,2),t=n[0],a=n[1],o=Object(ne.a)("confirmPageIcon",null),r=Object(Q.a)(o,2),c=r[0],i=r[1],s=Object(Re.b)(),u=s.lock,l=s.unlocked,d=s.isEncrypted,b=Object($.f)().pathname,f=Object($.e)(),p=Object(U.useCallback)((function(){"/qrReader"!==b&&"/cameraSetting"!==b&&u()}),[u,b]);Object(U.useEffect)((function(){return window.addEventListener("blur",p),function(){window.removeEventListener("blur",p)}}),[p]);var m=Object(U.useMemo)((function(){return[{privateRoute:!1,route:{exact:!0,path:"/tutorial"},component:Object(oe.jsx)(Me,{setFinishedTutorial:a})},{privateRoute:!1,route:{exact:!0,path:"/login"},component:Object(oe.jsx)(Je,{})},{privateRoute:!0,route:{exact:!0,path:"/"},component:Object(oe.jsx)(Pe,{})},{privateRoute:!0,route:{exact:!0,path:"/confirm/:id"},component:Object(oe.jsx)(Ce,{confirmPageIcon:c})},{privateRoute:!0,route:{exact:!0,path:"/qrGenerator"},component:Object(oe.jsx)(Ie,{})},{privateRoute:!0,route:{exact:!0,path:"/disclaimer"},component:Object(oe.jsx)(De,{})},{privateRoute:!0,route:{exact:!0,path:"/qrReader"},component:Object(oe.jsx)(Ne,{})},{privateRoute:!0,route:{exact:!0,path:"/cameraSetting"},component:Object(oe.jsx)(He,{})},{privateRoute:!0,route:{exact:!0,path:"/confirmPageSetting"},component:Object(oe.jsx)(ze,{confirmPageIcon:c,setConfirmPageIcon:i})},{privateRoute:!0,route:{exact:!0,path:"/vaccinationQRReader"},component:Object(oe.jsx)(Be,{})}]}),[c,i,a]);return Object(U.useEffect)((function(){d&&(l||"/login"===b||f.replace("/login"),l&&"/login"===b&&f.replace("/"))}),[d,l,f,b]),Object(U.useEffect)((function(){t||"/tutorial"===b||f.replace("/tutorial"),t&&"/tutorial"===b&&f.replace("/")}),[t,f,b]),Object(U.useEffect)((function(){Object(G.a)((function(e){var n=e.route;return!!n.path&&!Object(X.a)(Object($.d)(b,n))}),m)||f.replace("/")}),[f,b,m]),Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Ue,{}),m.map((function(e){var n=e.route,t=e.component;return e.privateRoute&&!l?Object(oe.jsx)(Z.a.Fragment,{},String(n.path)):Object(U.createElement)($.a,Object(W.a)(Object(W.a)({},n),{},{key:String(n.path)}),(function(e){var n=e.match;return Object(oe.jsx)(ee.a,{in:null!=n,timeout:300,classNames:"page",unmountOnExit:!0,children:Object(oe.jsx)("div",{className:"page",children:Object(oe.jsx)(U.Suspense,{fallback:Object(oe.jsx)(re,{}),children:t})})})}))}))]})},Ue=Object(te.a)(D||(D=Object(Y.a)(["\nhtml {\n  width: 100%;\n  height: 100%;\n}\n\nbody {\n  margin: 0;\n  font-family: Rubik, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  background-color:#12b188;\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n\ntextarea {\n  font-family: inherit;\n}\n\n\n#root {\n  width: 100%;\n  height: 100%;\n}\n\na {\n  text-decoration: none;\n}\n\n.page {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-color: #12b188;\n  box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.8);\n}\n\n.page-enter {\n  opacity: 0;\n  left: 100vw;\n  z-index: 1;\n}\n\n.page-enter-active {\n  opacity: 1;\n  left: 0vw;\n  z-index: 0;\n  transition: left 300ms cubic-bezier(0.25, 1, 0.5, 1);\n}\n\n.page-exit {\n  opacity: 1;\n  z-index: 0;\n  transform: scale(1);\n}\n\n.page-exit-active {\n  opacity: 0;\n  z-index: 0;\n  transform: scale(0.9);\n  transition: opacity 300ms, transform 300ms;\n}\n"]))),Ze=t(164),qe=t(65),Fe=t(44),Ke=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ye(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var We=Object(J.a)({palette:{primary:{main:B.a[500]},secondary:{main:V.a[600]}}});F.a.render(Object(oe.jsx)(Z.a.StrictMode,{children:Object(oe.jsx)(qe.a,{children:Object(oe.jsx)(K.a,{basename:"/",children:Object(oe.jsx)(z.a,{theme:We,children:Object(oe.jsx)(Fe.a,{children:Object(oe.jsx)(ue.a,{children:Object(oe.jsx)(Le.a,{children:Object(oe.jsx)(Ze.a,{children:Object(oe.jsx)(Re.a,{children:Object(oe.jsx)(Ve,{})})})})})})})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat(".","/service-worker.js");Ke?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ye(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Ye(n,e)}))}}({onUpdate:function(){window.confirm("\u5df2\u6709\u65b0\u7248\u672c, \u8acb\u5b8c\u5168\u95dc\u9589\u5f8c\u91cd\u65b0\u958b\u555f")&&window.location.reload()}})},44:function(e,n,t){"use strict";t.d(n,"a",(function(){return l})),t.d(n,"b",(function(){return d}));var a=t(6),o=t(19),r=t(0),c=t(445),i=t(38),s=Object(i.a)((function(){var e=Object(r.useState)(Object(o.a)()),n=Object(a.a)(e,2),t=n[0],i=n[1];return Object(c.a)((function(){i(Object(o.a)())}),1e3),{currentTime:t}})),u=Object(a.a)(s,2),l=u[0],d=u[1]},45:function(e,n,t){"use strict";var a;t.d(n,"a",(function(){return a})),function(e){e["ZH-HK"]="zh-HK",e.EN="en"}(a||(a={}))},51:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return s}));var a,o,r=t(3),c=t(4),i=c.b.button(a||(a=Object(r.a)(["\n  display: block;\n  margin: auto;\n  margin-bottom: 16px;\n  font-size: 24px;\n  padding: 10px 0;\n  width: 80%;\n  border-radius: 48px;\n  flex-shrink: 0;\n  max-width: 280px;\n  font-weight: 500;\n\n  ","\n\n  border: 0;\n  outline: none;\n  ","\n\n  &:focus {\n    outline: none;\n    text-decoration: none;\n  }\n"])),(function(e){return e.disabled?"background-color: #D3D3D3;\n        color: #A1A1A1;\n        ":"\n        background-color: #fed426;\n      "}),(function(e){return e.shadowed?"box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.5);":""})),s=Object(c.b)(i)(o||(o=Object(r.a)(["\n  font-size: 16px;\n  padding: 12px 0;\n  width: 90%;\n  font-weight: unset;\n"])))},65:function(e,n,t){"use strict";t.d(n,"a",(function(){return d})),t.d(n,"b",(function(){return b}));var a=t(6),o=t(38),r=t(0),c=t(446),i=t(98),s=t(45),u=Object(o.a)((function(){var e=Object(i.a)("language",s.a["ZH-HK"]),n=Object(a.a)(e,2),t=n[0],o=n[1],u=Object(c.a)().i18n;return Object(r.useEffect)((function(){u.changeLanguage(t)}),[u,t]),{language:t||s.a["ZH-HK"],setLanguage:o}})),l=Object(a.a)(u,2),d=l[0],b=l[1]},81:function(e,n,t){"use strict";n.a=t.p+"static/media/crossBlack.aafc0aee.svg"}},[[437,6,7]]]);
//# sourceMappingURL=main.aac7eb95.chunk.js.map